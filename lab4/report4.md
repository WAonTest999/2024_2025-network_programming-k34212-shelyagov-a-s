University: [ITMO University](https://itmo.ru/ru/)
Faculty: [FICT](https://fict.itmo.ru)
Course: [Network programming](https://github.com/itmo-ict-faculty/network-programming)
Year: 2024/2025
Group: K34212
Author: Shelyagov Alexey
Lab: Lab4
Date of create: 20.03.2025
Date of finished: 20.03.2025

## Лабораторная работа №4 "Базовая 'коммутация' и туннелирование используя язык программирования P4"

## Описание

В данной лабораторной работе ознакомится на практике с языком программирования P4, разработанным компанией Barefoot (ныне Intel) для организации процесса обработки сетевого трафика на скорости чипа. Barefoot разработал несколько FPGA чипов для обработки трафика которые были встроенны в некоторые модели коммутаторов Arista и Brocade.

## Цель работы

Изучить синтаксис языка программирования P4 и выполнить 2 задания обучающих задания от Open network foundation для ознакомления на практике с P4.

## Ход работы

Первым делом была установлена виртуальная машина для обучения работы с P4.

<img src="./img/1.png" width=900>

Затем, была поднята тестовая сеть с помощью mininet.

<img src="./img/2.png" width=900>

Убедимся, что пинги между узлами не идут.

<img src="./img/3.png" width=900>

Допишем в p4-файл логику работы с пакетами.

<img src="./img/4.png" width=900>

<img src="./img/5.png" width=900>

<img src="./img/6.png" width=900>

<img src="./img/7.png" width=900>

Убедимся в наличии связности между узлами. Теперь каждое устройство может пропинговать каждое.

<img src="./img/8.png" width=900>

Перейдем ко второму заданию. Проверим, что пересылка пакетов без тунелирования работает.

<img src="./img/9.png" width=900>

Изменим конфигурационный файл.

<img src="./img/8.1.png" width=900>

<img src="./img/8.2.png" width=900>

<img src="./img/8.3.png" width=900>

Попробуем отослать на третий узел пакет указав его IP, но прописав в адресате назначения в созданном нами заголовке id второго узла. Как можно заметить, в результате пакет было отослан только второму узлу.

<img src="./img/10.png" width=900>


## Вывод

В результате лабораторной работы было настроены  тунелирование в тестовой сети mininet с помощью языка P4.

